<html lang="en">
    <%- include('./Partials/head.ejs') %>
<body>
    <!-- Header -->
    <header>
        <div class="logo">üìù <a class="header-title" href="/">Yadud's To-Do</a></div>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/myTasks">My Tasks</a></li>
                <li><a href="/calendar">Calendar</a></li>
                <li><a href="/about">About</a></li>
                <li><a class="profile">üë§ Profile</a></li>
            </ul>
        </nav>
    </header>

    <!-- Add or Edit Task Section -->
    <div class="add-task-container">
        <h1><%= task ? 'Edit Task: ' + task.title : 'Add New Task' %></h1>

        <form id="add-task-form" action="<%= task ? '/edit-task/' + task._id : '/' %>" method="POST">
            <label for="task-title">Task Title:</label>
            <input type="text" id="task-title" name="title" placeholder="Enter task title" value="<%= task ? task.title : '' %>" required>

            <label for="task-description">Description:</label>
            <textarea id="task-description" name="description" placeholder="Enter task description" required><%= task ? task.description : '' %></textarea>

            <label for="task-date">Due Date:</label>
            <input type="date" id="task-date" name="dueDate" value="<%= task && task.dueDate ? task.dueDate.toISOString().split('T')[0] : '' %>" required>

            <label for="task-priority">Priority:</label>
            <select id="task-priority" name="priority" required>
                <option value="Low" <%= task && task.priority === 'Low' ? 'selected' : '' %>>Low</option>
                <option value="High" <%= task && task.priority === 'High' ? 'selected' : '' %>>High</option>
            </select>

            <button type="submit" class="submit-task-btn"><%= task ? 'Save Changes' : 'Add Task' %></button>
        </form>
    </div>

    <%- include('./Partials/footer.ejs') %> 
</body>
</html>
